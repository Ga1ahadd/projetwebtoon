<div *ngIf="loading">Chargement...</div>
<div *ngIf="error">{{ error }}</div>

<div *ngIf="webtoon && !loading" class="detail-container">
  <img [src]="'assets/' + webtoon.image" alt="{{ webtoon.titre }}">
  <h1>{{ webtoon.titre }}</h1>
  <p><strong>Genre :</strong> {{ webtoon.genre }}</p>
  <p><strong>Chapitres :</strong> {{ webtoon.nb_chapitres }}</p>
  <p><strong>Auteur :</strong> {{ webtoon.auteur }}</p>
  <p><strong>RÃ©sumÃ© :</strong></p>
  <p>{{ webtoon.resume }}</p>

  <p><strong>Liste des chapitres :</strong></p>
  <div *ngFor="let num of [].constructor(webtoon.nb_chapitres); let i = index">
    <div>
      Chapitre {{ i + 1 }}
      <span *ngIf="(i + 1) <= webtoon.nb_chapitres_gratuits || achatsEffectues.includes(i + 1)">
        âœ… DÃ©bloquÃ©
      </span>
      <button
        *ngIf="(i + 1) > webtoon.nb_chapitres_gratuits && !achatsEffectues.includes(i + 1)"
        (click)="acheter(i + 1)">
        Acheter (1ğŸ’°)
      </button>
    </div>
  </div>
</div>
